# 1. Initialize Matrix and Vector
# num_nodes = highest node index in netlist (excluding 0)
Y = matrix[num_nodes][num_nodes] initialized to 0
J = vector[num_nodes] initialized to 0

# 2. Iterate through the Netlist
for component in netlist:
    
    # CASE: CONDUCTANCE (G) or RESISTOR (R=1/G)
    if component.type == "G":
        i = component.node_from
        j = component.node_to
        val = component.value
        
        # Apply the 4-point stamp
        if i > 0:
            Y[i][i] += val    # Diagonal ii
            if j > 0:
                Y[i][j] -= val # Off-diagonal ij
        
        if j > 0:
            Y[j][j] += val    # Diagonal jj
            if i > 0:
                Y[j][i] -= val # Off-diagonal ji

    # CASE: INDEPENDENT CURRENT SOURCE (I)
    elif component.type == "I":
        i = component.node_from
        j = component.node_to
        val = component.value
        
        # Apply the current source stamp
        if i > 0:
            J[i] -= val   # Current LEAVING node i
        if j > 0:
            J[j] += val   # Current ENTERING node j

# 3. Solve the system
# Now use LU Factorization or a solver to find V in YV = J
